"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pattern2RegEx = exports.wait = exports.objectIdToHostname = exports.normalizeHostId = exports.getObjectViewResultToArray = void 0;
function getObjectViewResultToArray(doc) {
    var _a;
    return ((_a = doc === null || doc === void 0 ? void 0 : doc.rows.map((item) => item.value).filter((val) => !!val)) !== null && _a !== void 0 ? _a : []);
}
exports.getObjectViewResultToArray = getObjectViewResultToArray;
/** Makes sure that a host id starts with "system.host." */
function normalizeHostId(host) {
    if (!host.startsWith("system.host.")) {
        host = `system.host.${host}`;
    }
    return host;
}
exports.normalizeHostId = normalizeHostId;
function objectIdToHostname(id) {
    if (id.startsWith("system.host.")) {
        id = id.substr("system.host.".length);
    }
    return id;
}
exports.objectIdToHostname = objectIdToHostname;
/**
 * Creates a promise that waits for the specified time and then resolves
 */
function wait(ms) {
    return new Promise((resolve) => {
        setTimeout(resolve, ms);
    });
}
exports.wait = wait;
/** Converts ioB pattern into regex */
function pattern2RegEx(pattern) {
    pattern = (pattern || "").toString();
    const startsWithWildcard = pattern[0] === "*";
    const endsWithWildcard = pattern[pattern.length - 1] === "*";
    pattern = pattern
        .replace(/[-/\\^$+?.()|[\]{}]/g, "\\$&")
        .replace(/\*/g, ".*");
    return ((startsWithWildcard ? "" : "^") +
        pattern +
        (endsWithWildcard ? "" : "$"));
}
exports.pattern2RegEx = pattern2RegEx;
//# sourceMappingURL=tools.js.map